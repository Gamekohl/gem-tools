<div class="mx-auto max-w-6xl p-6 lg:p-10" data-testid="container">
    <div class="flex items-start justify-between gap-6">
        <div>
            <h1 class="text-2xl font-semibold tracking-tight" data-testid="title">Animations</h1>
            <p class="mt-1 text-sm text-slate-500 dark:text-white/50">
                Browse through animations provided by Call to Arms â€“ Gates of Hell.
            </p>
        </div>
    </div>

    <div class="mt-8">
        <input
                class="w-full p-4 my-2 dark:text-white outline-none rounded-2xl border border-slate-200 dark:border-white/25"
                placeholder="Search animation..."
                id="search"
                data-testid="search"
                [value]="query()"
                (input)="query.set(($any($event.target).value ?? '').trim())"
        />
    </div>
    <div class="mb-4 flex items-center justify-end gap-4">
        <div class="text-xs text-slate-500 dark:text-white/50" data-testid="filter-label">
            @if (query().length) {
                Filtered by: <span class="font-medium text-slate-700 dark:text-white/50">{{ query() }}</span>
            } @else {
                Showing all animations
            }
        </div>
    </div>
    @if ((animationNames() | filter:query()).length > 0) {
        <section class="rounded-2xl border border-slate-200 dark:border-white/5 overflow-hidden">

                <cdk-virtual-scroll-viewport data-testid="viewport" itemSize="52" class="h-[70vh] min-h-fit overflow-auto">
                    <button
                            *cdkVirtualFor="let name of animationNames() | filter:query()"
                            type="button"
                            data-testid="animation-item"
                            (click)="copyAnimationName(name)"
                            class="w-full flex items-center justify-between gap-4 p-4 border-b border-slate-100 dark:border-white/5 last:border-b-0 hover:bg-slate-50 dark:hover:bg-white/5 text-left cursor-pointer"
                    >
                        <span class="text-sm text-slate-900 truncate">{{ name }}</span>
                        <ng-icon name="tablerCopy" class="shrink-0 opacity-70 hover:opacity-100"></ng-icon>
                    </button>
                </cdk-virtual-scroll-viewport>
        </section>
    } @else {
        <div class="mt-8 rounded-2xl border border-slate-200 dark:border-white/50 p-6 text-sm text-slate-600 dark:text-white/50" data-testid="no-results">
            No animations match your search.
        </div>
    }
</div>
